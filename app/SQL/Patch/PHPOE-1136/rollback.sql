RENAME TABLE 1136_institution_site_types TO institution_site_types;
RENAME TABLE 1136_institution_site_ownership TO institution_site_ownership;
RENAME TABLE 1136_institution_site_localities TO institution_site_localities;
RENAME TABLE 1136_institution_site_statuses TO institution_site_statuses;
RENAME TABLE 1136_assessment_result_types TO assessment_result_types;
RENAME TABLE 1136_employment_types TO employment_types;
RENAME TABLE 1136_extracurricular_types TO extracurricular_types;
RENAME TABLE 1136_languages TO languages;
RENAME TABLE 1136_identity_types TO identity_types;
RENAME TABLE 1136_license_types TO license_types;
RENAME TABLE 1136_special_need_types TO special_need_types;
RENAME TABLE 1136_quality_visit_types TO quality_visit_types;
RENAME TABLE 1136_health_relationships TO health_relationships;
RENAME TABLE 1136_health_conditions TO health_conditions;
RENAME TABLE 1136_health_immunizations TO health_immunizations;
RENAME TABLE 1136_health_allergy_types TO health_allergy_types;
RENAME TABLE 1136_health_test_types TO health_test_types;
RENAME TABLE 1136_health_consultation_types TO health_consultation_types;
RENAME TABLE 1136_salary_addition_types TO salary_addition_types;
RENAME TABLE 1136_salary_deduction_types TO salary_deduction_types;
RENAME TABLE 1136_training_course_types TO training_course_types;
RENAME TABLE 1136_training_field_studies TO training_field_studies;
RENAME TABLE 1136_training_levels TO training_levels;
RENAME TABLE 1136_training_mode_deliveries TO training_mode_deliveries;
RENAME TABLE 1136_training_priorities TO training_priorities;
RENAME TABLE 1136_training_providers TO training_providers;
RENAME TABLE 1136_training_requirements TO training_requirements;
RENAME TABLE 1136_training_statuses TO training_statuses;
RENAME TABLE 1136_student_categories TO student_categories;
RENAME TABLE 1136_student_behaviour_categories TO student_behaviour_categories;
RENAME TABLE 1136_staff_position_titles TO staff_position_titles;
RENAME TABLE 1136_staff_position_grades TO staff_position_grades;
RENAME TABLE 1136_staff_position_steps TO staff_position_steps;
RENAME TABLE 1136_qualification_specialisations TO qualification_specialisations;

-- uncorrect field option values
UPDATE institution_sites LEFT JOIN field_option_values ON institution_sites.institution_site_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_sites.institution_site_type_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteType';
UPDATE institution_site_custom_fields LEFT JOIN field_option_values ON institution_site_custom_fields.institution_site_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_custom_fields.institution_site_type_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteType';
UPDATE institution_site_history LEFT JOIN field_option_values ON institution_site_history.institution_site_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_history.institution_site_type_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteType';
UPDATE census_grids LEFT JOIN field_option_values ON census_grids.institution_site_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET census_grids.institution_site_type_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteType';
UPDATE census_custom_fields LEFT JOIN field_option_values ON census_custom_fields.institution_site_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET census_custom_fields.institution_site_type_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteType';
UPDATE institution_sites LEFT JOIN field_option_values ON institution_sites.institution_site_ownership_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_sites.institution_site_ownership_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteOwnership';
UPDATE institution_site_history LEFT JOIN field_option_values ON institution_site_history.institution_site_ownership_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_history.institution_site_ownership_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteOwnership';
UPDATE institution_sites LEFT JOIN field_option_values ON institution_sites.institution_site_locality_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_sites.institution_site_locality_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteLocality';
UPDATE institution_site_history LEFT JOIN field_option_values ON institution_site_history.institution_site_locality_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_history.institution_site_locality_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteLocality';
UPDATE institution_sites LEFT JOIN field_option_values ON institution_sites.institution_site_status_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_sites.institution_site_status_id = field_option_values.old_id WHERE field_options.code = 'InstitutionSiteStatus';
UPDATE assessment_item_results LEFT JOIN field_option_values ON assessment_item_results.assessment_result_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET assessment_item_results.assessment_result_type_id = field_option_values.old_id WHERE field_options.code = 'AssessmentResultType';
UPDATE staff_employments LEFT JOIN field_option_values ON staff_employments.employment_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_employments.employment_type_id = field_option_values.old_id WHERE field_options.code = 'EmploymentType';
UPDATE student_extracurriculars LEFT JOIN field_option_values ON student_extracurriculars.extracurricular_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_extracurriculars.extracurricular_type_id = field_option_values.old_id WHERE field_options.code = 'ExtracurricularType';
UPDATE staff_extracurriculars LEFT JOIN field_option_values ON staff_extracurriculars.extracurricular_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_extracurriculars.extracurricular_type_id = field_option_values.old_id WHERE field_options.code = 'ExtracurricularType';
UPDATE student_languages LEFT JOIN field_option_values ON student_languages.language_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_languages.language_id = field_option_values.old_id WHERE field_options.code = 'Language';
UPDATE staff_languages LEFT JOIN field_option_values ON staff_languages.language_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_languages.language_id = field_option_values.old_id WHERE field_options.code = 'Language';
UPDATE student_identities LEFT JOIN field_option_values ON student_identities.identity_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_identities.identity_type_id = field_option_values.old_id WHERE field_options.code = 'IdentityType';
UPDATE staff_identities LEFT JOIN field_option_values ON staff_identities.identity_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_identities.identity_type_id = field_option_values.old_id WHERE field_options.code = 'IdentityType';
UPDATE staff_licenses LEFT JOIN field_option_values ON staff_licenses.license_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_licenses.license_type_id = field_option_values.old_id WHERE field_options.code = 'LicenseType';
UPDATE student_special_needs LEFT JOIN field_option_values ON student_special_needs.special_need_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_special_needs.special_need_type_id = field_option_values.old_id WHERE field_options.code = 'SpecialNeedType';
UPDATE staff_special_needs LEFT JOIN field_option_values ON staff_special_needs.special_need_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_special_needs.special_need_type_id = field_option_values.old_id WHERE field_options.code = 'SpecialNeedType';
UPDATE quality_institution_visits LEFT JOIN field_option_values ON quality_institution_visits.quality_visit_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET quality_institution_visits.quality_visit_type_id = field_option_values.old_id WHERE field_options.code = 'QualityVisitType';
UPDATE student_health_families LEFT JOIN field_option_values ON student_health_families.health_relationship_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_families.health_relationship_id = field_option_values.old_id WHERE field_options.code = 'HealthRelationship';
UPDATE staff_health_families LEFT JOIN field_option_values ON staff_health_families.health_relationship_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_families.health_relationship_id = field_option_values.old_id WHERE field_options.code = 'HealthRelationship';
UPDATE student_health_histories LEFT JOIN field_option_values ON student_health_histories.health_condition_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_histories.health_condition_id = field_option_values.old_id WHERE field_options.code = 'HealthCondition';
UPDATE staff_health_histories LEFT JOIN field_option_values ON staff_health_histories.health_condition_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_histories.health_condition_id = field_option_values.old_id WHERE field_options.code = 'HealthCondition';
UPDATE staff_health_families LEFT JOIN field_option_values ON staff_health_families.health_condition_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_families.health_condition_id = field_option_values.old_id WHERE field_options.code = 'HealthCondition';
UPDATE student_health_families LEFT JOIN field_option_values ON student_health_families.health_condition_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_families.health_condition_id = field_option_values.old_id WHERE field_options.code = 'HealthCondition';
UPDATE student_health_immunizations LEFT JOIN field_option_values ON student_health_immunizations.health_immunization_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_immunizations.health_immunization_id = field_option_values.old_id WHERE field_options.code = 'HealthImmunization';
UPDATE staff_health_immunizations LEFT JOIN field_option_values ON staff_health_immunizations.health_immunization_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_immunizations.health_immunization_id = field_option_values.old_id WHERE field_options.code = 'HealthImmunization';
UPDATE student_health_allergies LEFT JOIN field_option_values ON student_health_allergies.health_allergy_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_allergies.health_allergy_type_id = field_option_values.old_id WHERE field_options.code = 'HealthAllergyType';
UPDATE staff_health_allergies LEFT JOIN field_option_values ON staff_health_allergies.health_allergy_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_allergies.health_allergy_type_id = field_option_values.old_id WHERE field_options.code = 'HealthAllergyType';
UPDATE student_health_tests LEFT JOIN field_option_values ON student_health_tests.health_test_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_tests.health_test_type_id = field_option_values.old_id WHERE field_options.code = 'HealthTestType';
UPDATE staff_health_tests LEFT JOIN field_option_values ON staff_health_tests.health_test_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_tests.health_test_type_id = field_option_values.old_id WHERE field_options.code = 'HealthTestType';
UPDATE student_health_consultations LEFT JOIN field_option_values ON student_health_consultations.health_consultation_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_health_consultations.health_consultation_type_id = field_option_values.old_id WHERE field_options.code = 'HealthConsultationType';
UPDATE staff_health_consultations LEFT JOIN field_option_values ON staff_health_consultations.health_consultation_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_health_consultations.health_consultation_type_id = field_option_values.old_id WHERE field_options.code = 'HealthConsultationType';
UPDATE staff_salary_additions LEFT JOIN field_option_values ON staff_salary_additions.salary_addition_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_salary_additions.salary_addition_type_id = field_option_values.old_id WHERE field_options.code = 'SalaryAdditionType';
UPDATE staff_salary_deductions LEFT JOIN field_option_values ON staff_salary_deductions.salary_deduction_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_salary_deductions.salary_deduction_type_id = field_option_values.old_id WHERE field_options.code = 'SalaryDeductionType';
UPDATE training_courses LEFT JOIN field_option_values ON training_courses.training_course_type_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_courses.training_course_type_id = field_option_values.old_id WHERE field_options.code = 'TrainingCourseType';
UPDATE training_courses LEFT JOIN field_option_values ON training_courses.training_field_study_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_courses.training_field_study_id = field_option_values.old_id WHERE field_options.code = 'TrainingFieldStudy';
UPDATE training_courses LEFT JOIN field_option_values ON training_courses.training_level_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_courses.training_level_id = field_option_values.old_id WHERE field_options.code = 'TrainingLevel';
UPDATE training_courses LEFT JOIN field_option_values ON training_courses.training_mode_delivery_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_courses.training_mode_delivery_id = field_option_values.old_id WHERE field_options.code = 'TrainingModeDelivery';
UPDATE staff_training_needs LEFT JOIN field_option_values ON staff_training_needs.training_priority_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_training_needs.training_priority_id = field_option_values.old_id WHERE field_options.code = 'TrainingPriority';
UPDATE training_sessions LEFT JOIN field_option_values ON training_sessions.training_provider_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_sessions.training_provider_id = field_option_values.old_id WHERE field_options.code = 'TrainingProvider';
UPDATE training_course_providers LEFT JOIN field_option_values ON training_course_providers.training_provider_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_course_providers.training_provider_id = field_option_values.old_id WHERE field_options.code = 'TrainingProvider';
UPDATE staff_training_needs LEFT JOIN field_option_values ON staff_training_needs.ref_course_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_training_needs.ref_course_id = field_option_values.old_id WHERE field_options.code = 'TrainingRequirement';
UPDATE training_courses LEFT JOIN field_option_values ON training_courses.training_requirement_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_courses.training_requirement_id = field_option_values.old_id WHERE field_options.code = 'TrainingRequirement';
UPDATE training_courses LEFT JOIN field_option_values ON training_courses.training_status_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_courses.training_status_id = field_option_values.old_id WHERE field_options.code = 'TrainingStatus';
UPDATE training_sessions LEFT JOIN field_option_values ON training_sessions.training_status_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_sessions.training_status_id = field_option_values.old_id WHERE field_options.code = 'TrainingStatus';
UPDATE training_session_results LEFT JOIN field_option_values ON training_session_results.training_status_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET training_session_results.training_status_id = field_option_values.old_id WHERE field_options.code = 'TrainingStatus';
UPDATE staff_training_self_study_results LEFT JOIN field_option_values ON staff_training_self_study_results.training_status_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_training_self_study_results.training_status_id = field_option_values.old_id WHERE field_options.code = 'TrainingStatus';
UPDATE institution_site_class_students LEFT JOIN field_option_values ON institution_site_class_students.student_category_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_class_students.student_category_id = field_option_values.old_id WHERE field_options.code = 'StudentCategory';
UPDATE institution_site_section_students LEFT JOIN field_option_values ON institution_site_section_students.student_category_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_section_students.student_category_id = field_option_values.old_id WHERE field_options.code = 'StudentCategory';
UPDATE census_students LEFT JOIN field_option_values ON census_students.student_category_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET census_students.student_category_id = field_option_values.old_id WHERE field_options.code = 'StudentCategory';
UPDATE student_behaviours LEFT JOIN field_option_values ON student_behaviours.student_behaviour_category_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET student_behaviours.student_behaviour_category_id = field_option_values.old_id WHERE field_options.code = 'StudentBehaviourCategory';
UPDATE institution_site_positions LEFT JOIN field_option_values ON institution_site_positions.staff_position_title_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_positions.staff_position_title_id = field_option_values.old_id WHERE field_options.code = 'StaffPositionTitle';
UPDATE institution_site_positions LEFT JOIN field_option_values ON institution_site_positions.staff_position_grade_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET institution_site_positions.staff_position_grade_id = field_option_values.old_id WHERE field_options.code = 'StaffPositionGrade';
UPDATE staff_qualifications LEFT JOIN field_option_values ON staff_qualifications.qualification_specialisation_id = field_option_values.id LEFT JOIN field_options ON field_option_values.field_option_id = field_options.id SET staff_qualifications.qualification_specialisation_id = field_option_values.old_id WHERE field_options.code = 'QualificationSpecialisation';

ALTER TABLE `quality_institution_visits` CHANGE `quality_visit_type_id` `quality_type_id` INT(11) NOT NULL;



TRUNCATE TABLE field_options;
INSERT field_options SELECT * FROM 1136_field_options;
ALTER TABLE `field_options` DROP `old_id`;

TRUNCATE TABLE field_option_values;
INSERT field_option_values SELECT * FROM 1136_field_option_values;